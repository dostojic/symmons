var Symmons=Symmons||{};!function($){"use strict";jQuery.fn.productDetails=function(a){return this.each(function(){var b=Object.create(Symmons.productDetails);b.init(this,a)})},jQuery.fn.productDetails.options={$currency:"$",$grandTotal:".ttl-price-list",$productPlumbingFlowRateObj:"rdlFlowRate",$productPlumbingOthersObj:"rdlOthers",$productPlumbingLabel:".plumbing-addl-price",$productAvailValesObj:".product-valves",$productAvailValesLabel:".product-variant-additional-price",$productFinishObj:"rdlfinishDetails",$productSKUObj:".product-sku",$templateSelector:"#template-pricingInformation",$pricingObj:".product-details__pricing",$urlSelector:jQuery(".product-details__pricing").attr("data-ajax-url")},Symmons.productDetails={init:function(a,b){var c=this;c.$container=jQuery(a),c.options=jQuery.extend({},jQuery.fn.productDetails.options,b),c.getDetailsbyAjax(),c.bindHandlers(),setTimeout(function(){jQuery(".gallery-content").removeClass("slide-effect")},1500)},bindHandlers:function(a){var b=this;jQuery(".gallery-content").addClass("slide-effect"),jQuery(document).on("change",b.options.$productAvailValesObj,function(a){a.preventDefault(),b.updateValves()}),jQuery(document).on("click","input[name="+b.options.$productPlumbingFlowRateObj+"]",function(a){b.updatePlumbing("flow-rate"),b.updateFinish()}),jQuery(document).on("click","input[name="+b.options.$productPlumbingOthersObj+"]",function(a){b.updatePlumbing("others"),b.updateFinish()}),jQuery(document).on("click","input[name="+b.options.$productFinishObj+"]",function(a){b.getDetailsbyAjax("onclick",a)})},getDetailsbyAjax:function(a,b){var c=this;jQuery(".product-loader").addClass("show");var d=c.getRadioBtnVal(c.options.$productFinishObj,"",!0),e="";e=void 0!==jQuery(".product-plumbing-content").attr("data-attr-showhide")?jQuery(".product-plumbing-content").attr("data-attr-showhide"):"false",
// Make the AJAX call
jQuery.ajax({url:c.options.$urlSelector+"?finishType="+d+"&showPlumbingOption="+e,type:"GET",cache:!1,contentType:"application/json; charset=utf-8",dataType:"JSON",async:!0,error:function(a){console.log("Error"+a.responseText)},success:function(a){if(c.bindPricingValues(a),"true"==e?(jQuery(".product-plumbing-content").show(),jQuery(".plumbing-head").html(jQuery(".plumbing-head").data("hide-text")),jQuery(".plumbing-head").addClass("expanded")):(jQuery(".product-plumbing-content").hide(),jQuery(".plumbing-head").html(jQuery(".plumbing-head").data("show-text")),jQuery(".plumbing-head").removeClass("expanded")),jQuery.exists(".product-details__plumbing")){var b=jQuery(".plumbing-head").data("show-text"),d=jQuery(".plumbing-head").data("hide-text");addExpandedText(".product-plumbing-content",".plumbing-head","expanded",b,d,!0,!0)}jQuery(c.options.$productAvailValesLabel).html(c.options.$currency+(+c.getElementValue(c.options.$productAvailValesObj)).toFixed(2)),
//if (action == "onclick") {
c.updateProductSlider(a),jQuery(".gallery-content").addClass("slide-effect"),
// }
//
$(".product-details__model").text("Model #"+c.updateSKU())}})},bindPricingValues:function(data){var self=this,$container=jQuery(self.options.$templateSelector),$containerHtml=$container.html();if("undefined"!=typeof $containerHtml&&$containerHtml.length){var $theTemplate=Handlebars.compile($containerHtml);jQuery(self.options.$pricingObj).html(" "),jQuery(self.options.$pricingObj).append($theTemplate(eval(data))),self.updateFinish()}},updateProductSlider:function(a){var b="",c="";if(null!=a.SliderImages)jQuery(a.SliderImages).each(function(d){b+="<li class='product-gallery__item'><figure class='product-gallery__image'>        <img class='b-lazy' src='"+a.SliderImages[d].ImagePath+"' data-src='"+a.SliderImages[d].ImagePath+"' alt='"+a.SliderImages[d].ImageAlt+"' /></figure></li>",c+=0==d?"<a  data-slide-index='"+d+"' class='product-thumbnail-listing__item active'>      <figure class='product-thumbnail-listing__thumbimage'><img class='b-lazy' src='"+a.SliderImages[d].ImagePath+"' data-src='"+a.SliderImages[d].ImagePath+"' alt='"+a.SliderImages[d].ImageAlt+"' /></figure> </a>":"<a  data-slide-index='"+d+"' class='product-thumbnail-listing__item'>      <figure class='product-thumbnail-listing__thumbimage'><img class='b-lazy' src='"+a.SliderImages[d].ImagePath+"' data-src='"+a.SliderImages[d].ImagePath+"' alt='"+a.SliderImages[d].ImageAlt+"' /></figure> </a>"}),mySlider.destroySlider(),jQuery(".product-gallery").html(""),jQuery(".product-gallery").html(b),jQuery(".product-thumbnail-listing").html(""),jQuery('<div id="bx-pager" class="product-thumbnail-listing">'+c+"</div>").appendTo(jQuery(".gallery-content")),jQuery(".product-gallery").productSlider({isMobile:!1,isPagerCustom:!0,adaptiveHeight:!1,autoRotate:!1,duration:"0",pagerCustomObj:"#bx-pager",killSlider:!1,showcontrols:!0});else{var d="<div class='bx-wrapper'><figure class='product-gallery__image' style='margin-top:38%;'><img src='/_Images/contentManaged/imagenotavailable.gif' alt='Image Not Available'/></figure> </div>";mySlider.destroySlider(),jQuery(".product-gallery").html("").append(d)}setTimeout(function(){jQuery(".gallery-content").removeClass("slide-effect")},1500),jQuery(".product-loader").removeClass("show").addClass("hide")},getElementValue:function(a){return jQuery(a).val()},getRadioBtnVal:function(a,b,c){var d="";return d=c?jQuery("input[name="+a+"]:checked").val():jQuery("input[name="+a+"]:checked").data(b)},updateTotal:function(){var self=this,val1=parseFloat(self.getRadioBtnVal(self.options.$productFinishObj,"attr-price",!1)),val2=0,val3=0;val2=0!=jQuery(self.options.$productAvailValesObj).length?parseFloat(jQuery(self.options.$productAvailValesObj).val()):0,val3=0!=jQuery(self.options.$productPlumbingLabel).length?parseFloat(jQuery(self.options.$productPlumbingLabel).data("attr-price")):0;var $grandTotal=eval(val1+val2+val3).toFixed(2);jQuery(self.options.$grandTotal).html(self.options.$currency+$grandTotal.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))},updatePlumbing:function(srcFrom){var self=this,plumbFlowRate=0,plumbOthersRate=0;plumbFlowRate=0!=jQuery(".product-plumbing-flowrate .check-box-row").length?parseFloat(self.getRadioBtnVal(self.options.$productPlumbingFlowRateObj,"price-value",!1)):0,plumbOthersRate=0!=jQuery(".product-plumbing-others .check-box-row").length?parseFloat(self.getRadioBtnVal(self.options.$productPlumbingOthersObj,"price-value",!1)):0;
// var  plumbPriceVal = eval(plumbFlowRate != 'NaN' ? plumbFlowRate : 0 + plumbOthersRate != 'NaN' ? plumbOthersRate : 0).toFixed(2);
var plumbPriceVal=eval(plumbFlowRate+plumbOthersRate).toFixed(2);jQuery(self.options.$productPlumbingLabel).html("+ "+self.options.$currency+plumbPriceVal),jQuery(self.options.$productPlumbingLabel).data("attr-price",plumbPriceVal)},updateValves:function(){var a=this;jQuery(a.options.$productAvailValesLabel).html(a.options.$currency+jQuery(a.options.$productAvailValesObj).val()),a.updateFinish()},updateSKU:function(){var a=this,b=$(".product-details__model").data("model"),c=a.getRadioBtnVal(a.options.$productFinishObj,"sku-value",!1)||"",d=jQuery(a.options.$productAvailValesObj).find(":selected").data("attr-code")||"",e=a.getRadioBtnVal(a.options.$productPlumbingFlowRateObj,"sku-value",!1)||"",f=a.getRadioBtnVal(a.options.$productPlumbingOthersObj,"sku-value",!1)||"",g=c||"",h=[d,e,f];h=h.filter(function(a){return""!==a?a:null});var i=!1;return $.each(h,function(a,b){if("any finish"===b.toString().toLowerCase())return i=!0,!1}),i||!c.length?g=b:(h.unshift(c),g=h.join("-")),jQuery(this.options.$productSKUObj).html(g),g},updateFinish:function(){var a=this;a.updatePlumbing(),a.updateSKU(),a.updateTotal()}}}(jQuery);
//# sourceMappingURL=symmons.js.map