@using Sitecore.Globalization
@using symmons.com.Areas.Symmons.Models.Pages.Products
@using symmons.com._Classes.Symmons.Global
@using Constants = symmons.com._Classes.Shared.Global.Constants
@inherits Glass.Mapper.Sc.Web.Mvc.GlassView<IEnumerable<SuperCategory>>

@if (Model.Any(x => x.ShowOnNavigation))
{
    <section class="primary-navigation__commericial">
        <ul class="primary-navigation__commericial--listing">
            @foreach (var item in Model.Where(x => Guid.Parse(Constants.PageIds.PrimaryNavCustomSolutions) != x.Id).Take(4))
            {
                if ((Guid.Parse(Constants.PageIds.PrimaryNavCustomSolutions) != item.Id) && ((SymmonsHelper.IsValidImage(item.NavigationIcon)) || (!string.IsNullOrEmpty(item.NavigationTitle)) || (!string.IsNullOrEmpty(item.Teaser))))
                {
                    <li class="primary-navigation__commericial--item">
                        <a href="@item.Url" class="primary-navigation__commericial--link">
                            @if (SymmonsHelper.IsValidImage(item.NavigationIcon))
                            {
                                @RenderImage(item, x => x.NavigationIcon, new { @class = "primary-navigation__commericial--icon" }, true);
                            }
                            <h3 class="primary-navigation__commericial--headline">@Editable(item, x => x.NavigationTitle)</h3>
                            <p class="primary-navigation__commericial--teaser">@Editable(item, x => x.Teaser)</p>
                        </a>
                    </li>
                }
            }
        </ul>

        @{ var customSolutions = Model.FirstOrDefault(x => Guid.Parse(Constants.PageIds.PrimaryNavCustomSolutions) == x.Id); }
        @if ((customSolutions != null) && (customSolutions.ShowOnNavigation))
        { <div class="custom-solutions">
            <div class="custom-solutions__content">
                @{ var backgroundImage = customSolutions.NavigationImage != null ? customSolutions.NavigationImage.Src : String.Empty; }
                <div class="custom-solutions__image" style="background-image: url('@backgroundImage')">
                    @if ((SymmonsHelper.IsValidImage(customSolutions.NavigationIcon) || !string.IsNullOrEmpty(customSolutions.NavigationTitle)))
                    {
                        <div class="custom-solutions__contentbox">
                            <div class="custom-solutions__wrap">
                              <a href="@Editable(customSolutions, x => x.Url)">
                                  @if (SymmonsHelper.IsValidImage(customSolutions.NavigationIcon))
                                  {
                                      @RenderImage(customSolutions, x => x.NavigationIcon, new { @class = "custom-solutions__icon" }, true);
                                  }
                                  <h3 class="custom-solutions__headline">@Editable(customSolutions, x => x.NavigationTitle)</h3>
                              </a>
                            </div>
                        </div>
                    }
                </div>
            </div>
            <div class="custom-solutions__teasercontent">
                <h4 class="custom-solutions__subheadline">@Editable(customSolutions, x => x.PageSubTitle)</h4>
                <p class="custom-solutions__teaser">@Editable(customSolutions, x => x.Teaser)</p>
                @if (!string.IsNullOrEmpty(customSolutions.Url))
                {
                    <a href="@Editable(customSolutions, x => x.Url)" class="custom-solutions__cta">@Translate.Text(Constants.Dictionary.LearnMore)</a>
                }
            </div>
        </div>
        }

    </section>
}
